<!DOCTYPE html>
<html class="no-js" lang="zxx">


<!-- Mirrored from demo.hasthemes.com/selena-preview/selena/cart.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 28 Mar 2020 05:11:31 GMT -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="meta description">
    <title>Selena - Organic eCommerce Bootstrap 4 Template</title>

    <!--=== Favicon ===-->
    <link rel="shortcut icon" href="assets/img/favicon.ico" type="image/x-icon" />

    <!--=== All Plugins CSS ===-->
    <link href="assets/css/plugins.css" rel="stylesheet">
    <!--=== All Vendor CSS ===-->
    <link href="assets/css/vendor.css" rel="stylesheet">
    <!--=== Main Style CSS ===-->
    <link href="assets/css/style.css" rel="stylesheet">

    <!-- Modernizer JS -->
    <script src="assets/js/modernizr-2.8.3.min.js"></script>

    <!--[if lt IE 9]>
<script src="//oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="//oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

</head>

<body>

    <!-- Start Header Area -->
    <header class="header-area">
        <!-- header top start -->
        <div class="header-top">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-3">
                        <div class="logo">
                            <a href="index.html">
                                <img src="assets/img/logo/logo.png" alt="Brand Logo">
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-9">
                        <div class="header-settings-area">
                            <div class="header-top-left">
                                <nav>
                                    <ul class="d-flex justify-content-center">
                                        <li>
                                           
                                        </li>
                                        <li>
                                        
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                            <div class="header-top-right">
                                <div class="header-search-box">
                                    <!-- <form>
                                        <input type="text" placeholder="Search Here">
                                        <button><i class="ion-ios-search-strong"></i></button>
                                    </form> -->
                                </div>
                                <div class="mini-cart-wrap">
                                  <button  onclick="window.location.replace('./cart.html')"><i class="ion-bag"></i>
                                        
                                    </button>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- header top end -->

        <!-- main menu start -->
        <div class="main-menu-area sticky">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="main-menu">
                            <div class="sticky-logo">
                                <a href="index.html">
                                    <img src="assets/img/logo/logo_sticky.png" alt="brand logo">
                                </a>
                            </div>
                            <!-- main menu navbar start -->
                            <nav id="mobile-menu">
                                <ul>
                                    <li class="active"><a href="index.html">Home <i class="fa fa-angle"></i></a>
                                       
                                    </li>
                                    <li><a href="cart.html">Cart <i class="fa fa-angle"></i></a>
                                       
                                   
                                    <li><a href="#">about us</a></li>
                                    <li><a href="#">Contact</a></li>
                                </ul>
                            </nav>
                            <!-- main menu navbar end -->
                        </div>
                    </div>
                    <div class="col-12 d-block d-lg-none">
                        <div class="mobile-menu"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- main menu end -->

    </header>
    <!-- end Header Area -->

    <!-- main wrapper start -->
    <main>
        <!-- breadcrumb area start -->
        <div class="breadcrumb-area">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="breadcrumb-wrap text-center">
                            <nav aria-label="breadcrumb">
                                <h2>shop</h2>
                                <ul class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">cart</li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- breadcrumb area end -->

        <!-- cart main wrapper start -->
        <div class="cart-main-wrapper pt-60 pb-60">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <!-- Cart Table Area -->
                        <div class="cart-table table-responsive">
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th class="pro-thumbnail">Thumbnail</th>
                                        <th class="pro-title">Product</th>
                                        <th class="pro-price">Price</th>
                                        <th class="pro-quantity">Quantity</th>
                                        <th class="pro-subtotal">Total</th>
                                        <th class="pro-remove">Remove</th>
                                    </tr>
                                </thead>
                                <tbody id="cartGrid_data">
                                 
                                   
                                </tbody>
                            </table>
                        </div>
                        <!-- Cart Update Option -->
                   
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-5 ml-auto">
                        <!-- Cart Calculation Area -->
                        <div class="cart-calculator-wrapper">
                            <div class="cart-calculate-items">
                                <h3>Cart Totals</h3>
                                <div class="table-responsive">
                                    <table class="table">
                                        <tr>
                                            <td>Sub Total</td>
                                            <td >Rs <span id="subTotal"></span></td>
                                        </tr>
                                      
                                        <tr class="total">
                                            <td>Total</td>
                                            <td class="total-amount" >Rs <span id="totalValue"></span></td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <button onclick="checkout()" class="btn btn-block btn btn-primary">Proceed To Checkout</button>
                            <input type="hidden" id="sessionId">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- cart main wrapper end -->
    </main>
    <!-- main wrapper end -->

    <!--== Start Footer Area Wrapper ==-->
  
    <!--== End Footer Area Wrapper ==-->

    <!-- Scroll to top start -->
    <div class="scroll-top not-visible">
        <i class="fa fa-angle-up"></i>
    </div>
    <!-- Scroll to Top End -->

    <!--=======================Javascript============================-->
    <!--=== All Vendor Js ===-->
    <script src="assets/js/vendor.js"></script>
    <!--=== All Plugins Js ===-->
    <script src="assets/js/plugins.js"></script>
    <!--=== Active Js ===-->
    <script src="assets/js/active.js"></script>
</body>


<!-- Mirrored from demo.hasthemes.com/selena-preview/selena/cart.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 28 Mar 2020 05:11:31 GMT -->
</html>

<script>
var baseURL="http://localhost:8000";

$(document).ready(function(){
    var sessionID=localStorage.getItem("session");
    $('#sessionId').val(sessionID);
$.ajax({
    url:baseURL+'/session/getCartBySessionId/'+sessionID,
    method:'GET',
    data:{},
    success:function(data){
     
        var cartGrid="";
        var subTotal=0;
        $.each(data,function(index,value){
            
            subTotal=subTotal+value.userQty*value.price;
               
            cartGrid+='<tr>'+
                                        '<td class="pro-thumbnail"><a href="#"><img class="img-fluid" src="'+baseURL+value.imagePath+'"'+
                                                    'alt="Product" /></a></td>'+
                                        '<td class="pro-title"><a href="#">'+value.shortName+'</a></td>'+
                                        '<td class="pro-price"><span>Rs '+value.price.toFixed(2)+'</span></td>'+
                                        '<td class="pro-quantity">'+
                                            '<div class="pro-qty"><input type="text" value="'+value.userQty+'"></div>'+
                                        '</td>'+
                                        '<td class="pro-subtotal"><span>Rs '+(value.price * value.userQty).toFixed(2)+'</span></td>'+ 
                                        '<td class="pro-remove"><button onclick="remove(\''+value.sessionID+'\')" href="#"><i class="fa fa-trash-o"></i></button></td>'+
                                    '</tr>';
                                            
         
        });
       
        $('#subTotal').html(subTotal.toFixed(2));
        $('#totalValue').html(subTotal.toFixed(2));

        $('#cartGrid_data').html(cartGrid);
    }
});


});


function remove(id){
 
    $.ajax({
        url:baseURL+'/session/delete',
        method:'POST',
        data:{id:id},
        success:function(data){
       
             window.location.reload();
         
        }
    });
}

function checkout(){
    var id=$('#sessionId').val();
    window.location.replace('checkout.html?id='+id+'');
}
</script>